<!doctype html><title>%DEV_NAME% config</title><link href=style.css rel=stylesheet><script>var p={};var j=[`text`,`number`,`number`,`checkbox`];var s=a=>{a.preventDefault();[...a.target.elements].forEach(a=>a.name in p&&(p[a.name][`v`]=a.value?(a.type==j[3]?a.checked:(a.type==j[2]?Number(a.value):a.value)):undefined));var b=new FormData();b.append(`file`,new File([new Blob([JSON.stringify(p)])],`%CONFNAME%`));fetch(`/upload`,{method:`post`,body:b}).then(a=>a.text().then(a=>{document.getElementById(`maindiv`).innerHTML=a||`Error`}));return !1};const addkeys=(a,b,c)=>{let f=`v`,d=`beforeend`,e=`t`;p=a;c.insertAdjacentHTML(d,`<td><h3>`+ b+ `</h3></td>`);Object.keys(a).forEach(b=>c.insertAdjacentHTML(d,`<tr><td>${b.replace(`_`,` `)}</td><td><input name="${b}" type="${j[a[b][e]- 1]}" ${a[b][e]==4?!a[b][f]||`checked`:`value="${a[b][f]||``}"`}></td></tr>`))}</script></head><body><div id=maindiv><h2>%DEV_NAME% configuration</h2><form onsubmit="return s(event)"><table id=tbl></table><button>Save</button></form></div></body><script>fetch(`/getconfig`).then(a=>a.text().then(a=>addkeys(JSON.parse(a),``,document.getElementById(`tbl`))))</script></html>